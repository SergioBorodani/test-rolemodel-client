{"remainingRequest":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\PoljzovateljGridCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\PoljzovateljGridCard.vue","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgogICAgY29uc3QgVkJ1dHRvbiA9ICgpID0+IGltcG9ydCgnYXhldGEtdnVlLWVsZW1lbnRzL3NyYy9jb21wb25lbnRzL3YtYnV0dG9uJykKICAgIGNvbnN0IFZGaWx0ZXJJbnB1dCA9ICgpID0+IGltcG9ydCgnYXhldGEtdnVlLWVsZW1lbnRzL3NyYy9jb21wb25lbnRzL3YtZmlsdGVyLWlucHV0JykKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9sanpvdmF0ZWxqR3JpZENhcmQnLAogIGNvbXBvbmVudHM6IHsKICAgICAgbHlyYUdyaWQ6ICgpID0+IGltcG9ydCgnbHlyYS1ncmlkJyksCiAgICAgIFZCdXR0b24sCiAgICAgIFZGaWx0ZXJJbnB1dAogIH0sCgogIGRhdGE6ICgpID0+ICh7CiAgICAgIGN1cnJlbnRVc2VyU2lkOiBudWxsLAogICAgICBmaWx0ZXI6IG51bGwKICB9KSwKCiAgICB3YXRjaDogewogICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaDEoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKCiAgbWV0aG9kczogewoKICAgIGdldEluaXRDb250ZXh0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHJlZnJlc2hQYXJhbXM6CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgc29ydDogWyJzaWQiXSwKICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIxOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICB9CiAgICB9LAoKICAgICAgYWRkVXNlciAoKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9hZGRQb2xqeid9KQogICAgICB9LAoKICAgICAgZGVsZXRlVXNlciAoKSB7CiAgICAgICAgY29uc3QgcGF0aCA9ICcvYXBpL3JvbGVtb2RlbC9kZWxldGV1c2VyJwogICAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgICAgICB1c2VyU0lkOiB0aGlzLmN1cnJlbnRVc2VyU2lkCiAgICAgICAgfQogICAgICAgICAgYXhpb3MuZ2V0KHBhdGgsIHsKICAgICAgICAgICAgcGFyYW1zOiBwYXJhbQogICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLnJlZnJlc2gxKCkKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICBhbGVydChlcnIpCiAgICAgICAgfSkKICAgICAgfSwKCiAgICByZWZyZXNoMTogZnVuY3Rpb24gKCkgewogICAgICAgIGxldCBjb250ZXh0ID0KICAgICAgICAgICAgJ3snICsKICAgICAgICAgICAgJyJyZWZyZXNoUGFyYW1zIjogeycgKwoKICAgICAgICAgICAgJyJzb3J0IjogWyJyYXpyIl0sJyArCgogICAgICAgICAgICAnImZpbHRlciI6IHsnICsKICAgICAgICAgICAgJyJmaWx0ZXIxIjogIicgKyAodGhpcy5maWx0ZXIgPyB0aGlzLmZpbHRlciA6ICcnKSArICciJyArCiAgICAgICAgICAgICd9JyArCgogICAgICAgICAgICAnfScgKwogICAgICAgICAgICAnfScKCiAgICAgIGlmICh0aGlzLiRyZWZzLmx5cmFHcmlkMykgewogICAgICAgIHRoaXMuJHJlZnMubHlyYUdyaWQzLiRlbWl0KCdyZWZyZXNoJywgSlNPTi5wYXJzZShjb250ZXh0KSkKICAgICAgfQogICAgfSwKCiAgICBteWNsaWNrOiBmdW5jdGlvbiAoZm9ybUNsYXNzLCBpbnN0YW5jZUlkLCBvYmopIHsKICAgICAgdGhpcy5jdXJyZW50VXNlclNpZCA9IG9iai5jdXJyZW50Um93RGF0YS5zaWQKICAgICAgLy90aGlzLmJ1dHRvbnNEaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50VXNlclNpZCkKICAgIH0KCiAgfSwKCn07Cg=="},{"version":3,"sources":["PoljzovateljGridCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"PoljzovateljGridCard.vue","sourceRoot":"node_modules/rolemodel-ui/src/components","sourcesContent":["<template>\n<v-container fluid>\n    <v-row>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"addUser\" text=\"Добавить\" />\n        </v-col>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"deleteUser\" text=\"Удалить\" />\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <v-filter-input class=\"mb20\" v-model=\"filter\"/>\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n        <lyra-grid\n              ref=\"lyraGrid3\"\n              formclass=\"ru.curs.rolemodel.lyra.PoljzovateljLyra\"\n              instanceid=\"grid3\"\n              :context=\"getInitContext()\"\n              v-on:click=\"myclick\"\n            />\n        </v-col>\n    </v-row>\n</v-container>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    const VButton = () => import('axeta-vue-elements/src/components/v-button')\n    const VFilterInput = () => import('axeta-vue-elements/src/components/v-filter-input')\n\nexport default {\n  name: 'PoljzovateljGridCard',\n  components: {\n      lyraGrid: () => import('lyra-grid'),\n      VButton,\n      VFilterInput\n  },\n\n  data: () => ({\n      currentUserSid: null,\n      filter: null\n  }),\n\n    watch: {\n        filter: function (n, o) {\n            if (n) {\n                this.refresh1()\n            }\n        }\n    },\n\n  methods: {\n\n    getInitContext() {\n      return {\n        refreshParams:\n                    {\n                      sort: [\"sid\"],\n                        filter: {\n                            filter1: \"\",\n                        }\n                    },\n       }\n    },\n\n      addUser () {\n          this.$router.push({path: '/addPoljz'})\n      },\n\n      deleteUser () {\n        const path = '/api/rolemodel/deleteuser'\n        const param = {\n            userSId: this.currentUserSid\n        }\n          axios.get(path, {\n            params: param\n        }).then(response => {\n            this.refresh1()\n        }).catch(err => {\n            alert(err)\n        })\n      },\n\n    refresh1: function () {\n        let context =\n            '{' +\n            '\"refreshParams\": {' +\n\n            '\"sort\": [\"razr\"],' +\n\n            '\"filter\": {' +\n            '\"filter1\": \"' + (this.filter ? this.filter : '') + '\"' +\n            '}' +\n\n            '}' +\n            '}'\n\n      if (this.$refs.lyraGrid3) {\n        this.$refs.lyraGrid3.$emit('refresh', JSON.parse(context))\n      }\n    },\n\n    myclick: function (formClass, instanceId, obj) {\n      this.currentUserSid = obj.currentRowData.sid\n      //this.buttonsDisabled = false\n        console.log(this.currentUserSid)\n    }\n\n  },\n\n};\n</script>\n\n"]}]}