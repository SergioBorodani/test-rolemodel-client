{"remainingRequest":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\RazrGridCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\RazrGridCard.vue","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCiAgICBjb25zdCBWQnV0dG9uID0gKCkgPT4gaW1wb3J0KCdheGV0YS12dWUtZWxlbWVudHMvc3JjL2NvbXBvbmVudHMvdi1idXR0b24nKQogICAgY29uc3QgVkZpbHRlcklucHV0ID0gKCkgPT4gaW1wb3J0KCdheGV0YS12dWUtZWxlbWVudHMvc3JjL2NvbXBvbmVudHMvdi1maWx0ZXItaW5wdXQnKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSYXpyR3JpZENhcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIGx5cmFHcmlkOiAoKSA9PiBpbXBvcnQoJ2x5cmEtZ3JpZCcpLAogICAgICBWQnV0dG9uLAogICAgICBWRmlsdGVySW5wdXQKICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgICBjdXJyZW50UmF6cklkOiBudWxsLAogICAgICBmaWx0ZXI6IG51bGwKICB9KSwKCiAgICB3YXRjaDogewogICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaDEoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKCiAgbWV0aG9kczogewoKICAgIGdldEluaXRDb250ZXh0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHJlZnJlc2hQYXJhbXM6CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgc29ydDogWyJyYXpyIl0sCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyMTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICB9CiAgICB9LAoKICAgICAgYWRkUGVybSAoKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9hZGRSYXpyJ30pCiAgICAgIH0sCgogICAgICBkZWxldGVQZXJtICgpIHsKICAgICAgICAgIGNvbnN0IHBhdGggPSAnL2FwaS9yb2xlbW9kZWwvZGVsZXRlcmF6cicKICAgICAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgICAgICAgIHJhenJJZDogdGhpcy5jdXJyZW50UmF6cklkCiAgICAgICAgICB9CiAgICAgICAgICBheGlvcy5nZXQocGF0aCwgewogICAgICAgICAgICAgIHBhcmFtczogcGFyYW0KICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMucmVmcmVzaDEoKQogICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBhbGVydChlcnIpCiAgICAgICAgICB9KQogICAgICB9LAoKICAgICAgcmVmcmVzaDE6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGxldCBjb250ZXh0ID0KICAgICAgICAgICAgICAneycgKwogICAgICAgICAgICAgICcicmVmcmVzaFBhcmFtcyI6IHsnICsKCiAgICAgICAgICAgICAgJyJzb3J0IjogWyJyYXpyIl0sJyArCgogICAgICAgICAgICAgICciZmlsdGVyIjogeycgKwogICAgICAgICAgICAgICciZmlsdGVyMSI6ICInICsgKHRoaXMuZmlsdGVyID8gdGhpcy5maWx0ZXIgOiAnJykgKyAnIicgKwogICAgICAgICAgICAgICd9JyArCgogICAgICAgICAgICAgICd9JyArCiAgICAgICAgICAgICAgJ30nCgogICAgICAgIGlmICh0aGlzLiRyZWZzLmx5cmFHcmlkMikgewogICAgICAgICAgICAgIHRoaXMuJHJlZnMubHlyYUdyaWQyLiRlbWl0KCdyZWZyZXNoJywgSlNPTi5wYXJzZShjb250ZXh0KSkKICAgICAgICAgIH0KICAgICAgfSwKCiAgICAgIG15Y2xpY2s6IGZ1bmN0aW9uIChmb3JtQ2xhc3MsIGluc3RhbmNlSWQsIG9iaikgewogICAgICAgIHRoaXMuY3VycmVudFJhenJJZCA9IG9iai5jdXJyZW50Um93RGF0YS5yYXpyCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRSYXpySWQpCiAgICAgIH0KCiAgfSwKCn07Cg=="},{"version":3,"sources":["RazrGridCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"RazrGridCard.vue","sourceRoot":"node_modules/rolemodel-ui/src/components","sourcesContent":["<template>\n<v-container fluid>\n    <v-row>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"addPerm\" text=\"Добавить\" />\n        </v-col>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"deletePerm\" text=\"Удалить\" />\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <v-filter-input class=\"mb20\" v-model=\"filter\"/>\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <lyra-grid\n              ref=\"lyraGrid2\"\n              formclass=\"ru.curs.rolemodel.lyra.RazrLyra\"\n              instanceid=\"grid2\"\n              :context=\"getInitContext()\"\n              v-on:click=\"myclick\"\n            />\n        </v-col>\n    </v-row>\n</v-container>\n</template>\n\n<script>\n    import axios from 'axios'\n    const VButton = () => import('axeta-vue-elements/src/components/v-button')\n    const VFilterInput = () => import('axeta-vue-elements/src/components/v-filter-input')\n\nexport default {\n  name: 'RazrGridCard',\n  components: {\n    lyraGrid: () => import('lyra-grid'),\n      VButton,\n      VFilterInput\n  },\n\n  data: () => ({\n      currentRazrId: null,\n      filter: null\n  }),\n\n    watch: {\n        filter: function (n, o) {\n            if (n) {\n                this.refresh1()\n            }\n        }\n    },\n\n  methods: {\n\n    getInitContext() {\n      return {\n        refreshParams:\n                    {\n                      sort: [\"razr\"],\n                        filter: {\n                            filter1: \"\",\n                        }\n                    },\n      }\n    },\n\n      addPerm () {\n          this.$router.push({path: '/addRazr'})\n      },\n\n      deletePerm () {\n          const path = '/api/rolemodel/deleterazr'\n          const param = {\n              razrId: this.currentRazrId\n          }\n          axios.get(path, {\n              params: param\n          }).then(response => {\n              this.refresh1()\n          }).catch(err => {\n              alert(err)\n          })\n      },\n\n      refresh1: function () {\n          let context =\n              '{' +\n              '\"refreshParams\": {' +\n\n              '\"sort\": [\"razr\"],' +\n\n              '\"filter\": {' +\n              '\"filter1\": \"' + (this.filter ? this.filter : '') + '\"' +\n              '}' +\n\n              '}' +\n              '}'\n\n        if (this.$refs.lyraGrid2) {\n              this.$refs.lyraGrid2.$emit('refresh', JSON.parse(context))\n          }\n      },\n\n      myclick: function (formClass, instanceId, obj) {\n        this.currentRazrId = obj.currentRowData.razr\n          console.log(this.currentRazrId)\n      }\n\n  },\n\n};\n</script>\n\n<style>\n\n\n</style>\n"]}]}