{"remainingRequest":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\RoljGridCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\rolemodel-ui\\src\\components\\RoljGridCard.vue","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\IdeaProjects\\test-rolemodel-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgogICAgY29uc3QgVkJ1dHRvbiA9ICgpID0+IGltcG9ydCgnYXhldGEtdnVlLWVsZW1lbnRzL3NyYy9jb21wb25lbnRzL3YtYnV0dG9uJykKICAgIGNvbnN0IFZGaWx0ZXJJbnB1dCA9ICgpID0+IGltcG9ydCgnYXhldGEtdnVlLWVsZW1lbnRzL3NyYy9jb21wb25lbnRzL3YtZmlsdGVyLWlucHV0JykKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUm9sakdyaWRDYXJkJywKICBjb21wb25lbnRzOiB7CiAgICAgIGx5cmFHcmlkOiAoKSA9PiBpbXBvcnQoJ2x5cmEtZ3JpZCcpLAogICAgICBWQnV0dG9uLAogICAgICBWRmlsdGVySW5wdXQKICB9LAoKICBkYXRhOiAoKSA9PiAoewogICAgICBjdXJyZW50Um9sZUlkOiBudWxsLAogICAgICBmaWx0ZXI6IG51bGwKICB9KSwKCiAgICB3YXRjaDogewogICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaDEoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKCiAgbWV0aG9kczogewoKICAgIGdldEluaXRDb250ZXh0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHJlZnJlc2hQYXJhbXM6CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgc29ydDogWyJyb2xqIl0sCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyMTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICB9CiAgICB9LAoKICAgICAgYWRkUm9sZSAoKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9hZGRSb2xqJ30pCiAgICAgIH0sCgogICAgICBkZWxldGVSb2xlICgpIHsKICAgICAgICAgIGNvbnN0IHBhdGggPSAnL2FwaS9yb2xlbW9kZWwvZGVsZXRlcm9sZScKICAgICAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgICAgICAgIHJvbGVJZDogdGhpcy5jdXJyZW50Um9sZUlkCiAgICAgICAgICB9CiAgICAgICAgICBheGlvcy5nZXQocGF0aCwgewogICAgICAgICAgICAgIHBhcmFtczogcGFyYW0KICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMucmVmcmVzaDEoKQogICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICBhbGVydChlcnIpCiAgICAgICAgICB9KQogICAgICB9LAoKICAgICAgcmVmcmVzaDE6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGxldCBjb250ZXh0ID0KICAgICAgICAgICAgICAneycgKwogICAgICAgICAgICAgICcicmVmcmVzaFBhcmFtcyI6IHsnICsKCiAgICAgICAgICAgICAgJyJzb3J0IjogWyJyYXpyIl0sJyArCgogICAgICAgICAgICAgICciZmlsdGVyIjogeycgKwogICAgICAgICAgICAgICciZmlsdGVyMSI6ICInICsgKHRoaXMuZmlsdGVyID8gdGhpcy5maWx0ZXIgOiAnJykgKyAnIicgKwogICAgICAgICAgICAgICd9JyArCgogICAgICAgICAgICAgICd9JyArCiAgICAgICAgICAgICAgJ30nCgogICAgICAgICAgaWYgKHRoaXMuJHJlZnMubHlyYUdyaWQxKSB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5seXJhR3JpZDEuJGVtaXQoJ3JlZnJlc2gnLCBKU09OLnBhcnNlKGNvbnRleHQpKQogICAgICAgICAgfQogICAgICB9LAoKICAgICAgbXljbGljazogZnVuY3Rpb24gKGZvcm1DbGFzcywgaW5zdGFuY2VJZCwgb2JqKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRSb2xlSWQgPSBvYmouY3VycmVudFJvd0RhdGEucm9sagogICAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50Um9sZUlkKQogICAgICB9LAoKCiAgfSwKCn07Cg=="},{"version":3,"sources":["RoljGridCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"RoljGridCard.vue","sourceRoot":"node_modules/rolemodel-ui/src/components","sourcesContent":["<template>\n<v-container fluid>\n    <v-row>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"addRole\" text=\"Добавить\" />\n        </v-col>\n        <v-col sm=\"1\">\n            <v-button class=\"mb20 h36\" :action=\"deleteRole\" text=\"Удалить\" />\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <v-filter-input class=\"mb20\" v-model=\"filter\"/>\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <lyra-grid\n              ref=\"lyraGrid1\"\n              formclass=\"ru.curs.rolemodel.lyra.RoljLyra\"\n              instanceid=\"grid1\"\n              :context=\"getInitContext()\"\n              v-on:click=\"myclick\"\n            />\n        </v-col>\n    </v-row>\n</v-container>\n</template>\n\n<script>\n    import axios from 'axios'\n\n    const VButton = () => import('axeta-vue-elements/src/components/v-button')\n    const VFilterInput = () => import('axeta-vue-elements/src/components/v-filter-input')\n\nexport default {\n  name: 'RoljGridCard',\n  components: {\n      lyraGrid: () => import('lyra-grid'),\n      VButton,\n      VFilterInput\n  },\n\n  data: () => ({\n      currentRoleId: null,\n      filter: null\n  }),\n\n    watch: {\n        filter: function (n, o) {\n            if (n) {\n                this.refresh1()\n            }\n        }\n    },\n\n  methods: {\n\n    getInitContext() {\n      return {\n        refreshParams:\n                    {\n                      sort: [\"rolj\"],\n                        filter: {\n                            filter1: \"\",\n                        }\n                    },\n      }\n    },\n\n      addRole () {\n          this.$router.push({path: '/addRolj'})\n      },\n\n      deleteRole () {\n          const path = '/api/rolemodel/deleterole'\n          const param = {\n              roleId: this.currentRoleId\n          }\n          axios.get(path, {\n              params: param\n          }).then(response => {\n              this.refresh1()\n          }).catch(err => {\n              alert(err)\n          })\n      },\n\n      refresh1: function () {\n          let context =\n              '{' +\n              '\"refreshParams\": {' +\n\n              '\"sort\": [\"razr\"],' +\n\n              '\"filter\": {' +\n              '\"filter1\": \"' + (this.filter ? this.filter : '') + '\"' +\n              '}' +\n\n              '}' +\n              '}'\n\n          if (this.$refs.lyraGrid1) {\n              this.$refs.lyraGrid1.$emit('refresh', JSON.parse(context))\n          }\n      },\n\n      myclick: function (formClass, instanceId, obj) {\n          this.currentRoleId = obj.currentRowData.rolj\n          console.log(this.currentRoleId)\n      },\n\n\n  },\n\n};\n</script>\n\n<style>\n\n\n\n</style>\n"]}]}